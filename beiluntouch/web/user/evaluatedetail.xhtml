<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>
        <p:dialog id="detailDlg" widgetVar="detail" modal="true" resizable="false" appendTo="@(body)"
                  header="#{msgs.evaluateStaff}">
            <h:form id="detailForm">
                <h:panelGrid columns="2" cellpadding="10">
                    <p:graphicImage name="/images/#{evaluateBean.selectedEmployee.picture}" 
                                    width="198" height="255" /> 
                    <p:selectOneRadio id="grid" value="#{evaluateBean.appraisalValue}" layout="grid" columns="1">  
                        <f:selectItems value="#{evaluateBean.appraisalItems}"/>  
                    </p:selectOneRadio>
                    <p:outputLabel value="#{evaluateBean.selectedEmployee.name}" style="margin-left: 70px"/>
                </h:panelGrid>
                <br />
                #{msgs.reason}
                <br />
                <p:selectOneMenu value="#{evaluateBean.reasonValue}">
                        <f:selectItem itemLabel="请选择常用原因" itemValue=""/>
                        <f:selectItems value="#{evaluateBean.reasonItems}" />
                        <p:ajax listener="#{evaluateBean.onSelectReason}" update="reasonArea" />
                    </p:selectOneMenu>
                <br />
                <p:inputTextarea id="reasonArea" maxlength="2000" rows="5" cols="64" value="#{evaluateBean.reason}" />
                <h:panelGrid columns="2">                    
                    <p:outputLabel value="#{msgs.appraiser}" />
                    <p:inputText value="#{evaluateBean.appraiser}" />
                    <p:outputLabel value="#{msgs.contact}" />
                    <p:inputText value="#{evaluateBean.contact}" />
                </h:panelGrid>
                <p:commandButton value="#{msgs.submit}" oncomplete="PF('detail').hide();" actionListener="#{evaluateBean.save}" />
                <p:commandButton value="取消" onclick="PF('detail').hide();"/>
                <p:button value="手写输入" onclick="openHandInput();return false;"/>
            </h:form>
        </p:dialog>
    </ui:composition>
</html>

